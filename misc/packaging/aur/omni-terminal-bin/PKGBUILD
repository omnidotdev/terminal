# Maintainer: Omni LLC <team@omni.dev>
pkgname=omni-terminal-bin
pkgver=0.1.0
pkgrel=1
pkgdesc="GPU-accelerated terminal emulator built to run everywhere (pre-built)"
arch=('x86_64')
url="https://terminal.omni.dev"
license=('MIT')
depends=('fontconfig' 'freetype2' 'libxkbcommon' 'wayland')
provides=('omni-terminal')
conflicts=('omni-terminal')
source=("https://github.com/omnidotdev/terminal/releases/download/v$pkgver/omni-terminal-x86_64-unknown-linux-gnu.tar.gz"
        "omni-terminal.desktop::https://raw.githubusercontent.com/omnidotdev/terminal/v$pkgver/misc/omni-terminal.desktop"
        "omni-terminal.svg::https://raw.githubusercontent.com/omnidotdev/terminal/v$pkgver/misc/logo.svg"
        "dev.omni.Terminal.metainfo.xml::https://raw.githubusercontent.com/omnidotdev/terminal/v$pkgver/misc/dev.omni.Terminal.metainfo.xml"
        "LICENSE::https://raw.githubusercontent.com/omnidotdev/terminal/v$pkgver/LICENSE.md"
        "NOTICE::https://raw.githubusercontent.com/omnidotdev/terminal/v$pkgver/NOTICE.md"
        "omni-terminal.terminfo::https://raw.githubusercontent.com/omnidotdev/terminal/v$pkgver/misc/omni-terminal.terminfo")
sha256sums=('SKIP' 'SKIP' 'SKIP' 'SKIP' 'SKIP' 'SKIP' 'SKIP')

package() {
  install -Dm755 "omni-terminal" "$pkgdir/usr/bin/omni-terminal"
  install -Dm644 "omni-terminal.desktop" "$pkgdir/usr/share/applications/omni-terminal.desktop"
  install -Dm644 "omni-terminal.svg" "$pkgdir/usr/share/icons/hicolor/scalable/apps/omni-terminal.svg"
  install -Dm644 "dev.omni.Terminal.metainfo.xml" "$pkgdir/usr/share/metainfo/dev.omni.Terminal.metainfo.xml"
  install -Dm644 "LICENSE" "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
  install -Dm644 "omni-terminal.terminfo" "$pkgdir/usr/share/terminfo/o/omni-terminal"
  install -Dm644 "NOTICE" "$pkgdir/usr/share/doc/$pkgname/NOTICE"
}
